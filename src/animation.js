import React, { Fragment, useRef, useState } from "react";
import TweenMax from "gsap";

const Animation = () => {
  // added object
  const [added, setAdded] = useState({
    pepperoni: false,
    spinach: false,
    mushroom: false
  });
  // prepporini refs
  const pepperoni1 = useRef(null);
  const pepperoni2 = useRef(null);
  const pepperoni3 = useRef(null);
  // spinach refs
  const spinach1 = useRef(null);
  const spinach2 = useRef(null);
  const spinach3 = useRef(null);
  const spinach4 = useRef(null);
  const spinach5 = useRef(null);
  const spinach6 = useRef(null);
  // mushroom refs
  const mushroom1 = useRef(null);
  const mushroom2 = useRef(null);

  // const pepperoniAnimation = () => {
  //   const pepperoni = [
  //     pepperoni1.current,
  //     pepperoni2.current,
  //     pepperoni3.current
  //   ];

  //   TweenMax.to(pepperoni, 1, {
  //     y: 0,
  //     ease: "Bounce.easeOut",
  //     stagger: 0.1
  //   });
  // };

  // const mushroomAnimation = () => {
  //   const mushroom = [mushroom1.current, mushroom2.current];

  //   TweenMax.to(mushroom, 1, {
  //     y: 0,
  //     ease: "Bounce.easeOut",
  //     stagger: 0.1
  //   });
  // };

  // const spinachAnimation = () => {
  //   const spinach = [
  //     spinach1.current,
  //     spinach2.current,
  //     spinach3.current,
  //     spinach4.current,
  //     spinach5.current,
  //     spinach6.current
  //   ];

  //   TweenMax.to(spinach, 1, {
  //     y: 0,
  //     ease: "Bounce.easeOut",
  //     stagger: 0.1
  //   });
  // };

  const doAnimation = (type) => {
    let elements = [];
    if (type === "spinach") {
      elements = [
        spinach1.current,
        spinach2.current,
        spinach3.current,
        spinach4.current,
        spinach5.current,
        spinach6.current
      ];
    } else if (type === "mushroom") {
      elements = [mushroom1.current, mushroom2.current];
    } else {
      elements = [pepperoni1.current, pepperoni2.current, pepperoni3.current];
    }

    if (!added[type]) {
      TweenMax.to(elements, 1, {
        y: 0,
        ease: "Bounce.easeOut",
        stagger: 0.1
      });
    } else {
      TweenMax.to(elements, 0.3, {
        y: -410,
        stagger: 0.1
      });
    }

    added[type] = !added[type];
    setAdded((prevState) => ({ added, ...prevState }));
  };

  return (
    <Fragment>
      <div class="buttons">
        <button
          onClick={() => doAnimation("spinach")}
          className="spinach-button"
        >
          {added["spinach"] === true ? "Remove Spinach" : "Add Spinach"}
        </button>
        <button
          onClick={() => doAnimation("mushroom")}
          className="mushroom-button"
        >
          {added["mushroom"] === true ? "Remove Mushrooms" : "Add Mushrooms"}
        </button>
        <button
          onClick={() => doAnimation("pepperoni")}
          className="pepperoni-button"
        >
          {added["pepperoni"] === true ? "Remove Pepperoni" : "Add Pepperoni"}
        </button>
      </div>
      <svg viewBox="0 0 496 416">
        <path
          d="M4.379 328.253a80.468 80.468 0 00-3.653 5.038c-3.967 6.055 9.42 9.896 13.699 10.74 88.971 17.341 326.756 43.865 410.02 52.904-8.371-12.277-9.008-29.144-9.757-49.922-.15-4.072-.297-8.25-.52-12.619a3658.9 3658.9 0 01-.898-19.111c-1.164-25.235-1.164-25.235-5.594-37.215a680.16 680.16 0 01-4.17-11.536c-6.054-17.378-12.243-28.557-17.688-38.42-8.979-16.203-15.449-27.905-12.868-53.063 3.424-33.341-4.721-42.483-20.951-60.697a951.546 951.546 0 01-3.599-4.05c-20.536-23.252-35.114-49.85-39.519-71.937C255.716 86.19 43.39 278.285 4.379 328.253zM344.298 146.86c2.637-3.377 3.615-7.05 2.921-10.895-1.169-6.52-7.888-12.699-18.417-16.92-13.316-5.33-31.951-6.967-41.805.227-2.129 1.555-4.144 3.548-6.007 5.94-11.863 15.191-15.667 43.393-3.014 58.423 3.217 3.814 6.602 5.718 10.063 5.659 3.702-.066 7.246-2.321 10.809-6.884 2.512-3.216 4.506-6.915 5.969-9.624 1.373 5.311 4.598 14.155 11.174 17.399 5.469 2.684 12.713-.552 18.892-8.465a40.456 40.456 0 003.526-5.354c1.222-2.177 1.433-4.509.662-6.917-1.643-5.13-7.696-9.464-11.664-11.844 4.722-1.706 12.56-5.196 16.891-10.745zm-66.174 103.396c-14.321 18.337-41.889 20.854-61.444 5.586-19.567-15.278-23.814-42.636-9.497-60.974 14.331-18.353 41.89-20.854 61.458-5.575 19.554 15.268 23.812 42.611 9.483 60.963zm-176.385 22.955c-14.319 18.341-10.073 45.698 9.495 60.977 19.553 15.266 47.123 12.748 61.443-5.588 14.33-18.355 10.075-45.695-9.481-60.965-19.57-15.276-47.128-12.777-61.457 5.576zm221.85 73.882c19.554 15.268 47.123 12.752 61.442-5.586 14.329-18.354 10.072-45.695-9.479-60.964-19.572-15.277-47.129-12.777-61.457 5.575-14.319 18.341-10.074 45.698 9.494 60.975zm-61.472-40.616c2.424.479 4.295 1.785 5.592 3.89 4.729 7.692 7.492 18.045 2.972 23.839a8.91 8.91 0 01-1.979 1.865c-5.867 4.008-14.845 2.562-20.025 1.211 3.668 5.82 10.396 16.553 5.091 23.343-1.77 2.271-4.74 3.821-8.819 4.589-9.436 1.786-20.205-1.318-30.323-8.743-10.988-8.054-18.87-19.729-20.052-29.718-.844-7.158 2.626-16.337 9.545-25.195 9.047-11.589 23.45-21.49 33.46-18 11.337 3.938 10.206 19.621 8.967 27.104 3.933-2.23 10.435-5.24 15.571-4.185z"
          fill="#F8CD4C"
        />
        <path
          d="M390.125 40.277c12.153 12.163 48.648 79.004 57.906 106.208 9.251 27.178 18.775 78.347 34.382 119.245a150.331 150.331 0 012.984 8.68c.382 1.232.771 2.492 1.135 3.775.37 1.311.74 2.619 1.102 3.967.346 1.337.696 2.697 1.04 4.097.343 1.399.677 2.81.998 4.235.312 1.438.638 2.891.924 4.352 2.934 14.289 4.861 30.25 4.987 45.76.021 1.256.016 2.486.005 3.719-.253 22.213-4.364 43.154-14.783 56.496a46.757 46.757 0 01-2.667 3.113 50.622 50.622 0 01-1.932 1.883 35.571 35.571 0 01-8.869 6.012c-.812.38-1.66.742-2.523 1.068-.434.161-.86.325-1.309.479-12.079 4.111-19.549 1.453-26.58-4.604-1.965-1.687-3.906-3.652-5.899-5.801-7.325-12.416-10.649-33.527-12.16-60.904-.048-.883-.097-1.769-.137-2.668-2.728-54.494-.585-39.562-10.934-69.293-16.234-46.605-34.215-51.168-30.3-89.277 3.912-38.142-7.411-47.807-25.811-68.673-22.37-25.333-35.71-52.265-38.898-72.563a25.752 25.752 0 01-.15-6.768l.01-.015c.076-.876.215-1.723.375-2.598.166-.849.366-1.693.603-2.525a34.895 34.895 0 011.769-4.82 34.974 34.974 0 011.518-3.031 43.385 43.385 0 013.666-5.53c3.2-4.103 6.92-7.309 10.26-9.05 32.857-17.145 35.52 11.213 59.288 35.031z"
          fill="#FA9D37"
        />
        <path
          d="M181 327c0-24.853 21.49-45 48-45s48 20.147 48 45-21.49 45-48 45-48-20.147-48-45z"
          fill="#F8CD4C"
        />
        <path
          d="M260.598 155.346c0-24.853 21.49-45 48-45s48 20.147 48 45c0 24.852-21.49 45-48 45s-48-20.148-48-45z"
          fill="#F8CD4C"
        />
        <path
          d="M342.983 136.128c.53 2.89-.214 5.568-2.25 8.178-5.62 7.196-18.814 10.761-18.957 10.805l-4.539 1.192 4.25 2.013c3.176 1.503 11.791 6.535 13.47 11.736.475 1.48.353 2.862-.398 4.21a37.935 37.935 0 01-3.24 4.902c-5.04 6.454-10.805 9.412-14.677 7.495-7.836-3.856-10.168-18.825-10.186-18.972l-.252-1.627-1.635.177c-.783.083-1.29.621-1.599 1.013-.526.676-1.162 1.852-2.026 3.46-1.402 2.601-3.322 6.145-5.66 9.143-2.848 3.648-5.596 5.522-8.179 5.572-2.375.035-4.853-1.465-7.366-4.45-11.44-13.583-7.738-40.235 3.088-54.103 1.668-2.133 3.463-3.904 5.32-5.28 8.77-6.39 26.38-4.665 38.521.188 9.272 3.717 15.364 9.084 16.315 14.348z"
          fill="#F8CAA1"
          ref={mushroom1}
          className="mushroom"
        />
        <path
          d="M259.51 305.901c1.48.306 2.57 1.048 3.354 2.332 5.364 8.688 6.373 18.062 1.98 21.067-6.985 4.803-20.793-.369-20.938-.439l-1.55-.577-.642 1.519c-.486 1.187.152 2.205 2.082 5.276 1.608 2.563 3.907 6.185 5.33 9.815 1.41 3.622 1.95 7.217.022 9.691-1.243 1.592-3.51 2.713-6.755 3.33-8.386 1.582-18.468-1.375-27.657-8.115-10.28-7.549-17.606-18.291-18.677-27.387-.748-6.258 2.472-14.525 8.84-22.683 9.512-12.183 22.266-19.438 29.648-16.869 11.73 4.072 5.993 26.787 5.947 27.015l-1.184 4.549 3.826-2.729c2.798-1.963 11.164-6.864 16.375-5.795z"
          fill="#F8CAA1"
          ref={mushroom2}
          className="mushroom"
        />
        <g>
          <path
            d="M191.598 223.346c0-24.853 21.49-45 48-45s48 20.147 48 45c0 24.852-21.49 45-48 45s-48-20.148-48-45z"
            fill="#F8CD4C"
          />
          <path
            d="M88.598 301.346c0-24.853 21.49-45 48-45s48 20.147 48 45c0 24.852-21.49 45-48 45s-48-20.148-48-45z"
            fill="#F8CD4C"
          />
          <path
            d="M302.598 314.346c0-24.853 21.49-45 48-45s48 20.147 48 45c0 24.852-21.49 45-48 45s-48-20.148-48-45z"
            fill="#F8CD4C"
          />
          <path
            d="M160.382 269.63c18.096 14.13 22.071 39.273 8.89 56.152-13.179 16.882-38.537 19.125-56.633 4.996-18.11-14.141-22.082-39.283-8.902-56.164 13.18-16.881 38.536-19.122 56.645-4.984z"
            fill="#DA2427"
            ref={pepperoni1}
            className="pepperoni"
          />
          <path
            d="M265.83 191.291c18.098 14.13 22.08 39.26 8.891 56.153-13.178 16.878-38.538 19.123-56.632 4.994-18.11-14.139-22.084-39.284-8.904-56.165 13.19-16.894 38.535-19.12 56.645-4.982z"
            fill="#DA2427"
            ref={pepperoni2}
            className="pepperoni"
          />
          <path
            d="M372.735 282.54c18.097 14.128 22.082 39.26 8.891 56.153-13.18 16.881-38.535 19.123-56.635 4.996-18.107-14.142-22.081-39.287-8.903-56.166 13.19-16.89 38.537-19.122 56.647-4.983z"
            fill="#DA2427"
            ref={pepperoni3}
            className="pepperoni"
          />
        </g>
        <g fill="#87C33A">
          <path
            d="M306.01 232.142s-5.034-24.973 17.384-32.197c22.424-7.223 30.076-6.686 30.076-6.686s-6.38 54.512-47.46 38.883z"
            class="spinach"
            ref={spinach1}
          />
          <path
            d="M151.669 236.43s12.015-11.899 24.214-8.459c12.198 3.44 19.146 40.965 19.146 40.965l-26.434-9.166s-3.946-20.334-16.926-23.34z"
            class="spinach"
            ref={spinach2}
          />
          <path
            d="M217.95 153.143s6.698-2.402 26.98 4.986l22.402-38.48s-29.472-5.778-49.382 33.494z"
            class="spinach"
            ref={spinach3}
          />
          <path
            d="M259.298 283.529c-1.513-5.164 11.341-24.48 27.753-15.711l.513 32.815c0 .002-23.029.806-28.266-17.104z"
            class="spinach"
            ref={spinach4}
          />
          <path
            d="M352.291 361.768s19.188 2.854 31.999-14.156c12.81-17.01 9.492-25.684 9.492-25.684s13.759 16.616 2.721 33.997c-11.038 17.384-27.331 17.434-44.212 5.843z"
            class="spinach"
            ref={spinach5}
          />
          <path
            d="M68.905 341.262c2.538-1.699 12.455-7.426 12.455-7.426s-20.596-12.344-15.474-31.729c5.124-19.383 16.823-25.102 16.823-25.102l-7.534-.08s-21.77 5.576-24.995 32.016c-2.283 18.713 18.725 32.321 18.725 32.321z"
            class="spinach"
            ref={spinach6}
          />
        </g>
      </svg>
    </Fragment>
  );
};

export default Animation;
